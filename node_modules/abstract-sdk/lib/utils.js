"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.inferShareId = inferShareId;
exports.isNodeEnvironment = isNodeEnvironment;

function parseShareURL(url) {
  return url.split("share.goabstract.com/")[1];
}

function inferShareId(shareDescriptor) {
  let shareId;

  if (shareDescriptor.url) {
    shareId = parseShareURL(shareDescriptor.url);
  }

  if (shareDescriptor.shareId) {
    shareId = shareDescriptor.shareId;
  }

  if (!shareId) {
    throw new Error(`Could not infer share id from ShareDescriptor: "${JSON.stringify(shareDescriptor)}"`);
  }

  return shareId;
}

function isNodeEnvironment() {
  return typeof process !== "undefined" && process.versions && process.versions.node !== undefined;
}