"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = paginate;

require("core-js/modules/es7.symbol.async-iterator");

function paginate(cursor) {
  // $FlowFixMe: Flow lacks Symbol support https://github.com/facebook/flow/issues/3258
  return {
    initial: true,

    // $FlowFixMe: Flow lacks Symbol support https://github.com/facebook/flow/issues/3258
    [Symbol.asyncIterator]() {
      return this;
    },

    async next() {
      const value = this.initial ? await cursor : await cursor.next();
      this.initial = false;
      return {
        value,
        done: !value
      };
    }

  };
}